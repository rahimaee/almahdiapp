{% extends "shared/_PanelMain.html" %}
{% load static %}
{% load jalali_filters %}
{% load render_partial %}
{% load req %}

{% block header %}
<style id="print-style">
.page {
    direction:rtl !important;
    width: 210mm !important;
    height: 297mm !important;
    padding: 5mm !important;
    box-sizing: border-box !important;
    background: #fff !important;
    font-size: 13px !important;
    color: black !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;

}
.page > * {
   font-family: YekanBakh ,sans-serif !important;

}
@media print {
   .page {
      color: black !important;
      font-family: Vazir,sans-serif !important;
      page-break-inside: avoid;
      page-break-after: avoid;
      page-break-before: avoid;
   }
   .info-table tr td:empty {
    background-color:#fff !important;
  }
   .info-table  td {
      font-size:13px !important;
   }
}  
.info-table td:empty {
    background-color: #ff7979ff !important;
}
.page-title{
   text-align:center !important;
   margin:0 !important; 
   padding:0 0 10px !important;
    font-size:20px !important;
}
/* Ø³ØªÙˆÙ†â€ŒØ¨Ù†Ø¯ÛŒ */
.columns {
    display: flex !important;
    gap: 20px !important;
}

/* Ù‡Ø± Ø³ØªÙˆÙ† Ù†ØµÙ ØµÙØ­Ù‡ */
.column.col1 {
    flex: 2 !important;
}
.column.col2 {
    flex: 3 !important;
}
.column .info-table {
   margin-bottom: 10px !important;
}

/* Ø¬Ø¯ÙˆÙ„â€ŒÙ‡Ø§ */
.info-table {
    width: 100% !important;
    border-collapse: collapse !important;
}

.info-table td {
    border: 1px solid #ddd !important;
    padding: 2px 10px !important;
    word-wrap: break-word !important;
    padding:3px 5px ;
    font-size:13px !important;
    font-family: Vazir, sans-serif !important;
    color: black !important;
}

.info-table tr td:nth-child(odd) {
    background-color: #f9f9f9 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
}

.info-table tr td:nth-child(even) {
    text-align: center !important;
}

.info-table td:first-child {
    font-weight: bold !important;
    width: 55% !important;
}

.info-table td:last-child {
    width: 45% !important;
}

.main-container {
   display: flex ;
}
.main-container .view-segment {
   flex: 1 ;
}
.main-container > div {
   padding: 0 10px ;
}
</style>
<style>
   .card-box {
    background: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    text-align: center;
    margin-bottom:10px;
}

.card-title {
    font-size: 18px;
    font-weight: bold;
    color: #333;
    margin-bottom: 15px;
}

.card-content {
    display: flex;
    align-items: center;
    gap:10px;
}

.soldier-select-box {
   flex:1;
}

.print-btn {
    background: #1976d2;
    color: #fff;
    border: none;
    padding: 8px 18px;
    border-radius: 8px;
    font-size: 14px;
    cursor: pointer;
    transition: 0.3s;
}

.print-btn:hover {
    background: #0d47a1;
}
.guide-box {
    background: #f9f9fc;
    border-right: 4px solid #3f51b5;
}

.guide-content ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.guide-content li {
    padding: 6px 0;
    font-size: 13px;
    color: #555;
    display: flex;
    align-items: center;
    gap: 6px;
}

.guide-content li::before {
    content: "âœ”ï¸";
    color: #3f51b5;
    font-size: 12px;
}


</style>

{% endblock %}
{% block main %}
<!-- Ø§Ù†ØªØ®Ø§Ø¨ Ø³Ø±Ø¨Ø§Ø² -->
<div class="main-container">
   <div class="view-segment">
      <div class="card-box">
         <h3 class="card-title">ğŸ“‹ Ú¯Ø²Ø§Ø±Ø´ Ø§Ù†ÙØ±Ø§Ø¯ÛŒ Ø³Ø±Ø¨Ø§Ø²Ø§Ù† ÙˆØ¸ÛŒÙÙ‡</h3>
         <div class="card-content">
               <div class="soldier-select-box ">
                  {% include 'components/soldier_select.html' with soldier=soldier placeholder="Ø§Ù†ØªØ®Ø§Ø¨ Ø³Ø±Ø¨Ø§Ø²:" %}
               </div>
               <button onclick="printPage()" class="print-btn">
                  ğŸ–¨ï¸ Ù¾Ø±ÛŒÙ†Øª Ú¯Ø²Ø§Ø±Ø´
               </button>
         </div>
      </div>
      <div class="card-box guide-box">
         <h3 class="card-title">Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª </h3>
         <div class="card-content guide-content">
            <h3 class="text-center">Ø¯Ø±Ø­Ø§Ù„ ØªÚ©Ù…ÛŒÙ„...</h3>
            <ul>
               <li>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø³Ø±ÛŒ Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ø®Ø¯Ù…Øª Ø³Ø±Ø¨Ø§Ø² Ø¨Ù‡â€ŒØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø§Ø² Ø³Ø§Ù…Ø§Ù†Ù‡ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</li>
               <li>Ø¯Ø± ØµÙˆØ±Øª ØªØºÛŒÛŒØ± ÛŒØ§ Ø§ØµÙ„Ø§Ø­ØŒ Ø§Ø¹Ø¯Ø§Ø¯ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø®ÙˆØ§Ù‡Ù†Ø¯ Ø´Ø¯.</li>
               <li>Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª Ù‡Ø± Ú©Ø³Ø±ÛŒ ÛŒØ§ Ø§Ø¶Ø§ÙÙ‡ Ø®Ø¯Ù…ØªØŒ Ø¬Ø¯ÙˆÙ„ Ù…Ø±Ø¨ÙˆØ·Ù‡ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯.</li>
            </ul>
         </div>
      </div>
      <div class="card-box guide-box">
         <h3 class="card-title">â“ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ØµÙØ­Ù‡</h3>
         <div class="card-content guide-content">
            <ul>
                  <li>Ø§Ø¨ØªØ¯Ø§ Ø§Ø² Ù…Ù†ÙˆÛŒ Ø¨Ø§Ù„Ø§ Ø³Ø±Ø¨Ø§Ø² Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.</li>
                  <li>Ù¾Ø³ Ø§Ø² Ø§Ù†ØªØ®Ø§Ø¨ØŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ù…Ù„ Ø³Ø±Ø¨Ø§Ø² Ø¯Ø± Ø¬Ø¯ÙˆÙ„ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</li>
                  <li>Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† Ù†Ø³Ø®Ù‡ Ú†Ø§Ù¾ÛŒØŒ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ <b>ğŸ–¨ï¸ Ù¾Ø±ÛŒÙ†Øª Ú¯Ø²Ø§Ø±Ø´</b> Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯.</li>
                  <li>Ø¯Ø± ØµÙˆØ±Øª Ø®Ø§Ù„ÛŒ Ø¨ÙˆØ¯Ù† Ø¨Ø±Ø®ÛŒ ÙÛŒÙ„Ø¯Ù‡Ø§ØŒ Ø¢Ù†â€ŒÙ‡Ø§ Ø¨Ø§ Ø±Ù†Ú¯ ØµÙˆØ±ØªÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.</li>
                  <li>Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ù†Ø³Ø®Ù‡ PDF Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø±ØŒ Ø¯Ø± Ù¾Ù†Ø¬Ø±Ù‡ Ù¾Ø±ÛŒÙ†Øª Ú¯Ø²ÛŒÙ†Ù‡ <b>Save as PDF</b> Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.</li>
            </ul>
         </div>
      </div>
   </div>

   <div class="print-segment print-only">
      <div class="page A4">
         <h3 class="page-title" >Ú¯Ø²Ø§Ø±Ø´ Ø§Ù†ÙØ±Ø§Ø¯ÛŒ</h3>
         <div class="columns">
            <!-- Ø³ØªÙˆÙ† Ø³Ù…Øª Ú†Ù¾ -->
            <div class="column col1">
               <table class="info-table">
                     <tbody>
                        <tr><td>Ú©Ø¯ Ø³Ø§Ø²Ù…Ø§Ù†ÛŒ</td><td>{{ soldier.organizational_code_display|default:'Ù†Ø§Ù…Ø´Ø®Øµ' }}</td></tr>
                     </tbody>
               </table>
               <table class="info-table">
                     <tbody>
                        <tr><td>Ù†Ø§Ù…</td><td>{{ soldier.first_name }}</td></tr>
                        <tr><td>Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ</td><td>{{ soldier.last_name }}</td></tr>
                        <tr><td>Ø´Ù…Ø§Ø±Ù‡ Ù…Ù„ÛŒ</td><td>{{ soldier.national_code }}</td></tr>
                        <tr><td>Ù†Ø§Ù… Ù¾Ø¯Ø±</td><td>{{ soldier.father_name }}</td></tr>
                        <tr><td>Ú©Ø¯ Ù¾Ø§Ø³Ø¯Ø§Ø±ÛŒ</td><td>{{ soldier.id_card_code|default:'0' }}</td></tr>
                        <tr><td>Ø­Ú©Ù… Ú©Ø§Ø±Ú¯Ø²ÛŒÙ†ÛŒ</td><td>{{ soldier.employment_order|default:'*' }}</td></tr>
                        <tr><td>ØªØ§Ø±ÛŒØ® ØªÙˆÙ„Ø¯</td><td>{{ soldier.birth_date|to_jalali }}</td></tr>
                        <tr><td>Ù…Ø­Ù„ ØµØ¯ÙˆØ±</td><td>{{ soldier.birth_place }}</td></tr>
                        <tr><td>ÙˆØ¶Ø¹ÛŒØª ØªØ§Ù‡Ù„</td><td>{{ soldier.marital_status }}</td></tr>
                        <tr><td>ØªØ¹Ø¯Ø§Ø¯ Ø§ÙˆÙ„Ø§Ø¯</td><td>{{ soldier.children_count|default:"-" }}</td></tr>
                        <tr><td>ÙˆØ¶Ø¹ÛŒØª Ø³Ù„Ø§Ù…Øª</td><td>{{ soldier.health_status }}</td></tr>
                        <tr><td>ØªÙˆØ¶ÛŒØ­Ø§Øª ÙˆØ¶Ø¹ÛŒØª Ø³Ù„Ø§Ù…Øª</td><td>{{ soldier.health_desc|default:"-" }}</td></tr>
                        <tr><td>Ù…Ø­Ù„ Ø³Ú©ÙˆÙ†Øª</td><td>{{ soldier.residence_city|default:'-' }}</td></tr>
                        <tr><td>ÙˆØ¶Ø¹ÛŒØª Ø³Ú©ÙˆÙ†Øª</td><td>{{ soldier.independent_married|yesno:'Ù…Ø³ØªÙ‚Ù„,ØºÛŒØ±Ù…Ø³ØªÙ‚Ù„' }}</td></tr>
                        <tr><td>Ù…Ø³Ø§ÙØª (Ú©ÛŒÙ„ÙˆÙ…ØªØ±)</td><td>
                        {% if soldier.residence_city %}
                        {{ soldier.residence_city.distance }}
                        {% endif %}
                        </td></tr>
                        <tr><td>Ù…Ø¯Ø±Ú©</td><td>{{ soldier.degree }}</td></tr>
                        <tr><td>Ø¯Ø±Ø¬Ù‡</td><td>{{ soldier.rank }}</td></tr>
                        <tr><td>Ù¾Ø§Ø³Ø¯Ø§Ø± ÙˆØ¸ÛŒÙÙ‡</td><td>{{ soldier.is_guard_duty|yesno:"Ø¨Ù„Ù‡,Ø®ÛŒØ±" }}</td></tr>
                        <tr><td>ÙØ±Ø§Ø±ÛŒ</td><td>{{ soldier.is_fugitive|yesno:"Ø¨Ù„Ù‡,Ø®ÛŒØ±" }}</td></tr>
                        <tr><td>Ø³Ø§Ø¨Ù‚Ù‡ ÙØ±Ø§Ø±</td><td>{{ soldier.fugitive_history|yesno:"Ø¨Ù„Ù‡,Ø®ÛŒØ±" }}</td></tr>
                        <tr><td>Ø³Ø§Ø¨Ù‚Ù‡ Ø§Ø¹ØªÛŒØ§Ø¯</td><td>{{ soldier.addiction_history|yesno:"Ø¨Ù„Ù‡,Ø®ÛŒØ±" }}</td></tr>
                        <tr><td>Ø±Ø´ØªÙ‡ ØªØ­ØµÛŒÙ„ÛŒ</td><td>{{ soldier.field_of_study|default:'-' }}</td></tr>
                        <tr><td>Ù…Ø¹Ø±Ù</td><td>{{ soldier.referral_person|default:'Ù†Ø¯Ø§Ø±Ø¯' }}</td></tr>
                        <tr><td>ØªØ§Ø±ÛŒØ® Ø§Ø¹Ø²Ø§Ù…</td><td>{{ soldier.dispatch_date|to_jalali }}</td></tr>
                        <tr><td>Ù…Ø¯Øª Ø¢Ù…ÙˆØ²Ø´ (Ø±ÙˆØ²)</td><td>{{ soldier.training_duration }}</td></tr>
                        <tr><td>Ù…Ù‚Ø¯Ø§Ø± Ø®Ø¯Ù…Øª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡</td><td>{{ service.main_service_days|human_duration }}</td></tr>
                        <tr><td>ÙˆØ±ÙˆØ¯ Ø¨Ù‡ ÛŒÚ¯Ø§Ù†</td><td>{{ soldier.service_entry_date|to_jalali }}</td></tr>
                        <tr><td>Ù¾Ø§ÛŒØ§Ù† Ø®Ø¯Ù…Øª</td><td>{{ soldier.service_end_date|to_jalali }}</td></tr>
                        <tr><td>Ù†Ø§Ù… Ù‚Ø³Ù…Øª</td><td>{{ soldier.current_parent_unit }}</td></tr>
                        <tr><td>Ø²ÛŒØ±Ù‚Ø³Ù…Øª</td><td>{{ soldier.current_sub_unit }}</td></tr>
                        <tr><td>ØªØ±Ø¯Ø¯</td><td>{{ soldier.traffic_status }}</td></tr>
                        <tr><td>Ù…Ø¯Øª Ø®Ø¯Ù…Øª Ø¶Ø±ÙˆØ±Øª</td><td>{{ soldier.essential_service_duration }}</td></tr>
                        <tr><td>Ù…ÙˆØ¨Ø§ÛŒÙ„</td><td>{{ soldier.phone_mobile }}</td></tr>
                        <tr><td>Ù…Ù†Ø²Ù„</td><td>{{ soldier.phone_home }}</td></tr>
                        <tr><td>Ú©Ø¯Ù¾Ø³ØªÛŒ</td><td>{{ soldier.postal_code }}</td></tr>
                     
                     </tbody>
               </table>
            </div>

            <!-- Ø³ØªÙˆÙ† Ø³Ù…Øª Ø±Ø§Ø³Øª -->
            <div class="column col2">
               <table class="info-table">
                     <tbody>
                        <tr><td>ØªØ§Ø±ÛŒØ®</td><td>{{ today|to_jalali }}</td></tr>
                     </tbody>
               </table>
               <table class="info-table">
                  <tbody>
                       <tr><td>Ø¢Ø®Ø±ÛŒÙ† Ø§Ø³ØªØ¹Ù„Ø§Ù… ØªØ³Øª Ø±ÙˆØ§Ù†</td><td>{{ soldier.last_psych_test|default:'Ù†Ø§Ù…Ø¹Ù„ÙˆÙ…' }}</td></tr>
                        <tr><td>Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡ Ø¯Ø§Ø±Ø¯ØŸ</td><td>{{ soldier.has_license|yesno:"Ø¯Ø§Ø±Ø¯,Ù†Ø¯Ø§Ø±Ø¯" }}</td></tr>
                        <tr><td>Ù†ÙˆØ¹ Ú¯ÙˆØ§Ù‡ÛŒÙ†Ø§Ù…Ù‡</td><td>{{ soldier.license_type|default:"Ù†Ø¯Ø§Ø±Ø¯" }}</td></tr>
                        <tr><td>ÙˆØ¶Ø¹ÛŒØª Ù¾Ø±ÙˆÙ†Ø¯Ù‡</td><td>{{ soldier.file_shortage }}</td></tr>
                        <tr><td>ØªÙˆØ¶ÛŒØ­Ø§Øª</td><td>{{ soldier.description }}</td></tr>
                  </tbody>
               </table>
    
               <table class="info-table">
                     <tbody>
                        <tr><td>Ø§Ø³ØªØ­Ù‚Ø§Ù‚ÛŒ</td><td>{{ leave.annual_leave_used }}</td></tr>
                        <tr><td>ØªØ´ÙˆÛŒÙ‚ÛŒ</td><td>{{ leave.incentive_leave_used }}</td></tr>
                        <tr><td>Ø§Ø³ØªØ¹Ù„Ø§Ø¬ÛŒ</td><td>{{ leave.sick_leave_used }}</td></tr>
                        <tr><td>Ø·Ù„Ø¨ Ø§Ø³ØªØ­Ù‚Ø§Ù‚ÛŒ ØªØ§ Ù‚Ø¨Ù„ Ø§Ø² ØªÙˆØ¶ÛŒØ­Ø§Øª</td><td>{{ leave.annual_leave_remaining }} Ø±ÙˆØ²</td></tr>
                     </tbody>
               </table>
               <table class="info-table">
                     <tbody>
                        <tr><td>Ù…Ø¬Ù…ÙˆØ¹ Ú©Ø³Ø±ÛŒ+Ø§Ø¶Ø§ÙÙ‡</td><td>
                           <div>
                              {{ service.reduction_total|human_duration }} Ú©Ø³Ø±ÛŒ Ø®Ø¯Ù…Øª
                           </div>
                           <div>
                              {{ service.reduction_total|human_duration }} Ø§Ø¶Ø§ÙÙ‡ Ø®Ø¯Ù…Øª
                           </div>
                        </td></tr>
                        <tr><td>Ú©Ø³Ø±ÛŒ</td><td>{{ service.reduction_total|human_duration }}</td></tr>
                        <tr><td>Ø§Ø¶Ø§ÙÙ‡ Ø®Ø¯Ù…Øª</td><td>{{ service.addition_total|human_duration }}</td></tr>
                     </tbody>
               </table>
               <table class="info-table">
                     <tbody>
                        <tr><td>Ø¬Ø§ÛŒÚ¯Ø§Ù‡ Ø³Ø§Ø²Ù…Ø§Ù†ÛŒ</td><td>
                        {% if soldier.position %}
                           {{soldier.position.position_group}}
                        {% else %}
                        Ù†Ø¯Ø§Ø±Ø¯  
                        {% endif %}
                        </td></tr>
                        <tr><td>Ú©Ø¯ Ø¬Ø§ÛŒÚ¯Ø§Ù‡</td><td>
                               {% if soldier.position %}
                                 {{soldier.position.position_code}}
                              {% else %}
                              Ù†Ø¯Ø§Ø±Ø¯  
                              {% endif %}
                        </td></tr>
                        <tr><td>ØªØ§Ø±ÛŒØ® Ø«Ø¨Øª</td><td>{{ soldier.position_at|to_jalali }}</td></tr>
                        <tr><td>Ù†Ù‚Øµ Ù¾Ø±ÙˆÙ†Ø¯Ù‡</td><td>{{ soldier.file_complete_status|default:'-' }}</td></tr>
                     </tbody>
               </table>
               <table class="info-table">
                     <tbody>
                        <tr><td>Ù¾Ø§ÛŒØ§Ù† Ø®Ø¯Ù…Øª Ø¨Ø§ Ø§Ø­ØªØ³Ø§Ø¨ 24 Ù…Ø§Ù‡</td><td>{{ soldier.service_end_24m|default:'-' }}</td></tr>
                        <tr><td>Ù¾Ø§ÛŒØ§Ù† Ø®Ø¯Ù…Øª Ø¨Ø§ Ø§Ø­ØªØ³Ø§Ø¨ 21 Ù…Ø§Ù‡</td><td>{{ soldier.service_end_21m|default:'-' }}</td></tr>
                        <tr><td>Ù¾Ø§ÛŒØ§Ù† Ø®Ø¯Ù…Øª ÙˆØ§Ù‚Ø¹ÛŒ</td><td>{{ service.actual_service_end_date|to_jalali }}</td></tr>
                        <tr><td>Ù…Ø¯Øª Ø®Ø¯Ù…Øª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡</td><td>{{ soldier.service_duration_completed|default:'-' }}</td></tr>
                     </tbody>
               </table>
               <!-- Ù…Ø³Ø¦ÙˆÙ„ÛŒÙ† -->
               <div style="margin:20px 0;" class="text-center">
                     <h4 class="font-bold">{{ soldier.supervisor_name }}</h4>
                     <h6>{{ soldier.supervisor_position }}</h6>
               </div>
               <table class="info-table">
                     <tbody>
                        <tr><td>ØªØ§Ø±ÛŒØ® Ø«Ø¨Øª ØªØ³ÙˆÛŒÙ‡ Ø¯Ø± Ø³Ø§Ù…Ø§Ù†Ù‡</td><td>{{ soldier.final_settlement_date }}</td></tr>
                        <tr><td>ØªØ­ÙˆÛŒÙ„ Ù…Ø¯Ø§Ø±Ú© Ù…Ù‡Ø§Ø±Øª Ø¢Ù…ÙˆØ²ÛŒ</td><td>{{ soldier.skill_docs_delivered }}</td></tr>
                        <tr><td>ÙˆØ¶Ø¹ÛŒØª ØµØ¯ÙˆØ± Ú©Ø§Ø±Øª</td><td>{{ soldier.card_status }}</td></tr>
                        <tr><td>ØªØ§Ø±ÛŒØ® ÙØ¹Ø§Ù„Ø³Ø§Ø²ÛŒ</td><td>{{ soldier.card_activation_date }}</td></tr>
                        <tr><td>Ø¨Ø±Ø±Ø³ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø§Ù‡</td><td>{{ soldier.last_rights_check_date }}</td></tr>
                        <tr><td>Ø­Ù‚ÙˆÙ‚ Ø¹ÙˆØ¯ØªÛŒ (Ø±ÛŒØ§Ù„)</td><td>{{ soldier.returned_salary }}</td></tr>
                        <tr><td>Ø´Ù…Ø§Ø±Ù‡ Ø­Ø³Ø§Ø¨ Ø¹ÙˆØ¯Øª Ø­Ù‚ÙˆÙ‚</td><td>{{ soldier.returned_salary_account }}</td></tr>
                        <tr><td>ØªØ­ÙˆÛŒÙ„ Ø¨Ø±Ú¯Ù‡ ØªØ³ÙˆÛŒÙ‡</td><td>{{ soldier.checkout_sheet_status }}</td></tr>
                        <tr><td>Ø­Ø°Ù Ø§Ø² Ø«Ø§Ù…Ù†</td><td>{{ soldier.samen_delete_status }}</td></tr>
                        <tr><td>ØµØ¯ÙˆØ± Ú©Ø§Ø±ØªÚ©Ø³</td><td>{{ soldier.cardex_status }}</td></tr>
                     </tbody> 
               </table>
            </div>
         </div>

</div>


   </div>
</div>
<div id="header-partial" style="display:none;">
    {% render_partial 'header_references_partial_view' %}
</div>
{% endblock %}


{% block footer %}
<script>
     onChangeSelectedSoldier = (soldierId,soldierText)=>{
        if (soldierId) {
            window.location.href = "{% url 'single_reports_soldier' soldier_id=0 %}".replace("0", soldierId);
        }
    }
</script>
<script>
function printPage() {
    const content = document.querySelector('.page').innerHTML;
    const styles = document.getElementById('print-style').outerHTML;
    const headerPartial = document.getElementById('header-partial').innerHTML;

    const printWindow = window.open('', '_blank', 'width=1200,height=1400');
    const writeContent = `
        <html>
        <head>
            <title>Ù¾Ø±ÛŒÙ†Øª Ú¯Ø²Ø§Ø±Ø´</title>
            ${headerPartial}
            ${styles}
        </head>
        <body>
            <div class="page">
                ${content}
            </div>
        </body>
        </html>
    `
    console.log(writeContent)
    printWindow.document.write(writeContent);

    printWindow.document.close();
    printWindow.focus();
    printWindow.print();
    printWindow.close();
}
</script>

{% endblock %}