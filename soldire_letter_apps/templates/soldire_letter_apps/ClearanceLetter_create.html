{% extends 'shared/_PanelMain.html' %}
{% load static %}

{% block main %}
<style>
    /* کانتینر فرم */
    .container {
        max-width: 650px;
        background-color: #f8f9fa;
        padding: 30px;
        margin-top: 30px;
        border-radius: 12px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    }

    /* عنوان فرم */
    h3.text-center {
        font-weight: 700;
        color: #2c3e50;
        margin-bottom: 15px;
    }

    /* خط جداکننده */
    hr {
        border-top: 2px solid #4CAF50;
        margin-bottom: 25px;
    }

    /* گروه فیلدها */
    .form-group {
        margin-bottom: 5px;
    }

    /* برچسب فیلدها */
    .form-group label {
        font-weight: 600;
        color: #34495e;
        display: block;
        margin-bottom: 5px;
    }

    /* فیلدهای input و textarea */
    input.form-control,
    textarea.form-control,
    select.form-control {
        border-radius: 8px;
        border: 1px solid #ced4da;
        padding: 10px 12px;
        font-size: 14px;
        width: 100%;
        transition: all 0.3s ease;
    }

    input.form-control:focus,
    textarea.form-control:focus,
    select.form-control:focus {
        border-color: #4CAF50;
        box-shadow: 0 0 5px rgba(76, 175, 80, 0.3);
        outline: none;
    }

    /* Select2 */
    .select2-container--default .select2-selection--single {
        height: 42px;
        border-radius: 8px;
        border: 1px solid #ced4da;
    }

    .select2-container--default .select2-selection--single .select2-selection__rendered {
        line-height: 42px;
        padding-left: 10px;
    }

    .select2-container--default .select2-selection--single .select2-selection__arrow {
        height: 42px;
    }

    /* دکمه ثبت */
    button.btn-success {
        font-weight: 600;
        font-size: 16px;
        padding: 10px 50px;
        border-radius: 8px;
        background: linear-gradient(135deg, #4CAF50, #45A049);
        border: none;
        transition: all 0.3s ease;
        margin-bottom: 5px;
    }

    button.btn-success:hover {
        background: linear-gradient(135deg, #45A049, #3e8e41);
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    /* متن راهنما یا help_text */
    .form-text.text-muted {
        font-size: 12px;
        color: #6c757d;
    }

    /* خطاهای فرم */
    .text-danger {
        font-size: 13px;
        margin-top: 3px;
        color: red;
    }

    /* ریسپانسیو */
    @media (max-width: 768px) {
        .container {
            padding: 20px;
        }

        button.btn-success {
            font-size: 14px;
            padding: 10px 20px;
        }
    }
</style>
{% include "../letter_types_nav_layout.html" %}

  <div class="container">
      <h3 class="text-center" style="margin: 0;padding: 0;">ایجاد نامه تسویه‌حساب سرباز</h3>
      <hr>
      <form method="post" novalidate>
          {% csrf_token %}
          <div style="display:flex;align-items: center;gap: 10px;">
            <div class="form-group" style="flex: 1;padding: 10x;text-align: center;">
                {{ form.expired_file_number.label_tag }} 
                {{ form.expired_file_number }}
            </div>
            <div class="form-group" style="flex: 3;">
                    {{ form.soldier.label_tag }} 
                    {{ form.soldier }}
                    {% if form.soldier.errors %}
                    <div class="text-danger small">{{ form.soldier.errors }}</div>
                {% endif %}
            </div>
          </div>
             {% if form.expired_file_number.help_text %}
                <small class="form-text text-danger">{{ form.expired_file_number.help_text }}</small>
            {% endif %}
            {% if form.expired_file_number.errors %}
                <div class="text-danger small">{{ form.expired_file_number.errors }}</div>
            {% endif %}
            <div class="form-group">
                {{ form.description.label_tag }} 
                {{ form.description }}
                {% if form.description.errors %}
                    <div class="text-danger small">{{ form.description.errors }}</div>
                {% endif %}
            </div>
            
          <div style="display: flex;align-items: end; gap: 10px;">
            <div class="form-group" style="flex: 1;">
                {{ form.reason.label_tag }} 
                {{ form.reason }}
                {% if form.reason.errors %}
                    <div class="text-danger small">{{ form.reason.errors }}</div>
                {% endif %}
            </div>
            <div class="text-center">
                <button type="submit" class="btn btn-success">ثبت نامه</button>
            </div>
          </div>
      </form>
  </div>
{% endblock %}

{% block footer %}
<script>
    $('select').select2({
        allowClear:true,
        width: '100%',
    });
</script>
{% endblock %}
