{% extends 'shared/_PanelMain.html' %}
{% load static %}



{% block main %}
    <form method="post">
        {% csrf_token %}
        <div class="form-group">
            {{ form.soldier.label_tag }}
            {{ form.soldier }}
        </div>
        <div class="form-group">
            {{ form.destination_choice.label_tag }}
            {{ form.destination_choice }}
        </div>

        <div class="form-group" id="manual-destination">
            {{ form.destination_manual.label_tag }}
            {{ form.destination_manual }}
        </div>

        <div class="form-group">
            {{ form.subject.label_tag }}
            {{ form.subject }}
        </div>

        <div class="form-group">
            {{ form.description_in.label_tag }}
            {{ form.description_in }}
        </div>

        <div class="form-group">
            {{ form.description.label_tag }}
            {{ form.description }}
        </div>

        <button type="submit" class="btn btn-success">ذخیره</button>
    </form>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var select = document.querySelector("select[name='destination_choice']");
            var manualDiv = document.getElementById("manual-destination");

            function toggleManualInput() {
                if (select.value === "custom") {
                    manualDiv.style.display = "block";
                } else {
                    manualDiv.style.display = "none";
                }
            }

            toggleManualInput();
            select.addEventListener("change", toggleManualInput);
        });
    </script>
{% endblock %}